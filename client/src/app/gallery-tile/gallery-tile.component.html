<div class="col-sm-0 tile-visible">
	<div class="card-img-wrapper p-1">
		<!-- Thumbnail image -->
		<img
		src='{{media?.thumbnailUrl}}'
		alt='{{media?.thumbnailUrl}}'
		class="card-img"
		draggable="false"
		(click)='openOverlay.emit()'
		(middleclick)='openLink(media?.mediaUrl)'
		(load)='imageLoaded = true'
		[ngClass]='{"blurimg": media?.possiblySensitive && settingsService.filters.showFlag}' />

		<!-- Media type icon + Flagged sensitive -->
		<!-- Title is type with _ subsituted in the case of a gif -->
		<span class="media-type" (click)='openOverlay.emit()'>
			<span>
				<i *ngIf='media?.possiblySensitive && settingsService.filters.showFlag' class="fa fa-flag" title="Flagged possibly sensitive"></i>
			</span>
			<span>
				<i class="fa"
					title='{{media?.type?.replace("_", " ") | titlecase}}'
					[ngClass]="{'fa-image': media?.type === 'photo', 'fa-film': media?.type !== 'photo'}">
				</i>
			</span>
		</span>

		<!-- External link, Search for @ -->
		<!-- Forced opaque if media is external (video, animated gif) -->
		<!-- Forced visible & opaque if on a touch device -->
		<span class="media-visit">
			<a *ngIf="allowSearch" routerLink='/@{{media?.handle}}' title='Search for @{{media?.handle}}'>
				<i class="fa fa-search"></i>
			</a>
			<a href='{{media?.tweetUrl}}' title="View Tweet on Twitter" target="_blank">
				<!-- <i class="fa fa-external-link-square"></i> -->
				<i class="fa fa-twitter"></i>
			</a>
		</span>

		<!-- Loading spinner for image -->
		<div *ngIf="!imageLoaded" class="spinner">
			<div class="spinner-border text-primary" role="status">
				<span class="sr-only">Loading...</span>
			</div>
		</div>
	</div>
</div>